{
  "package_name": "com.walturn.my_app",
  "project_description": "A Flutter application built with Bloc/Cubit architecture to create a modular, maintainable mobile experience. The app features a startup screen for initialization, a home screen with counter functionality, comprehensive state management, and additional features like a support chat interface and games listing. Key capabilities include flavor configuration, modern state management, and template components for rapid development.",
  "architecture_overview": "The application follows a modular, feature-driven architecture utilizing Flutter Bloc/Cubit pattern. Key components include dedicated Cubits for feature management, immutable state classes with Equatable, and a service-oriented design with external integrations like Firebase, OpenAI, and Telegram. The architecture emphasizes separation of concerns, scalability, and reactive state management.",
  "files": [
    {
      "name": "lib/app/app.dart",
      "description": "Main application entry point that configures and initializes the Flutter app with theme settings and routing. This file serves as the root widget that bootstraps the entire application.",
      "class_diagram": "@startuml\nclass App {\n  +Widget build(BuildContext context)\n}\nnote right of App\n  Main application entry point\n  Configures theme and routing\n  Sets initial startup view\nend note\nApp --> MaterialApp : creates\nApp --> StartupView : initializes\nApp --> ThemeData : configures\n@enduml",
      "methods": [
        {
          "name": "build",
          "description": "Constructs the main MaterialApp widget with theme configuration and initial route setup",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        }
      ],
      "dependencies": [
        "package:flutter/material.dart",
        "package:my_app/features/startup/startup_view.dart",
        "package:my_app/shared/app_colors.dart"
      ]
    },
    {
      "name": "lib/features/home/home_cubit.dart",
      "description": "This file contains the HomeCubit class which manages the state for the home screen feature. It handles loading user data, displaying loading states, and updating user statistics. The cubit serves as the business logic component that connects the UI to the application state using the BLoC pattern.",
      "class_diagram": "@startuml\nclass HomeCubit {\n  +loadUserData()\n  +updateStats(int gamesPlayed, int achievements)\n}\n\nHomeCubit --> \"1\" HomeState\nHomeCubit ..> flutter_bloc\nHomeCubit ..> home_state\n@enduml",
      "methods": [
        {
          "name": "loadUserData",
          "description": "Initiates the user data loading process, emits loading state and then simulates API call to load user information including username and game statistics",
          "parameters": null,
          "return_type": "void"
        },
        {
          "name": "updateStats",
          "description": "Updates the user's game statistics (games played and achievements) in the current state while preserving other state properties",
          "parameters": [
            "int gamesPlayed",
            "int achievements"
          ],
          "return_type": "void"
        }
      ],
      "dependencies": [
        "package:flutter_bloc/flutter_bloc.dart",
        "package:my_app/features/home/home_state.dart"
      ]
    },
    {
      "name": "lib/features/home/home_state.dart",
      "description": "Defines the state management classes for the home feature, representing different states of the user's home screen experience including loading, loaded, and error states.",
      "class_diagram": "@startuml\nclass HomeState {\n  +List<Object> props\n}\n\nclass HomeInitial {\n}\n\nclass HomeLoading {\n}\n\nclass HomeLoaded {\n  +String username\n  +int gamesPlayed\n  +int achievements\n  +HomeLoaded copyWith(String? username, int? gamesPlayed, int? achievements)\n}\n\nclass HomeError {\n  +String message\n}\n\nHomeState <|-- HomeInitial\nHomeState <|-- HomeLoading\nHomeState <|-- HomeLoaded\nHomeState <|-- HomeError\n@enduml",
      "methods": [
        {
          "name": "copyWith",
          "description": "Creates a new HomeLoaded instance with updated values, allowing for immutable state updates",
          "parameters": [
            "String? username",
            "int? gamesPlayed",
            "int? achievements"
          ],
          "return_type": "HomeLoaded"
        }
      ],
      "dependencies": [
        "package:equatable/equatable.dart"
      ]
    },
    {
      "name": "lib/features/home/home_view.dart",
      "description": "This file defines the HomeView widget, which serves as the main dashboard screen of the application. It displays user-specific information such as welcome message, gaming statistics, game library access, and a placeholder for leaderboard functionality. The view integrates with the HomeCubit for state management and uses a BlocBuilder to reactively update UI components based on the current state (loading, loaded, error).",
      "class_diagram": "@startuml\nclass HomeView {\n  - HomeCubit _cubit\n  + Widget build(BuildContext context)\n  - Widget _buildWelcomeCard(BuildContext context)\n  - Widget _buildStatsSection(BuildContext context)\n  - Widget _buildGameLibrarySection(BuildContext context)\n  - Widget _buildLeaderboardSection(BuildContext context)\n  - Widget _buildStatItem(String label, String value)\n}\n\nnote right of HomeView\n  Dependencies:\n  - flutter_bloc (BlocProvider, BlocBuilder)\n  - HomeCubit (state management)\n  - HomeState (state representation)\n  - AppColors (styling constants)\n  - TextStyles (shared text styles)\nend note\n@enduml",
      "methods": [
        {
          "name": "build",
          "description": "Constructs the main UI structure of the home screen using Flutter widgets. Sets up the BlocProvider to manage the HomeCubit lifecycle and creates the overall layout with an AppBar and scrollable content area.",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        },
        {
          "name": "_buildWelcomeCard",
          "description": "Creates a welcome card section that displays a personalized greeting to the user. Shows loading, error, or success states based on the current HomeState.",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        },
        {
          "name": "_buildStatsSection",
          "description": "Builds a statistics section showing key user metrics like games played and achievements. Dynamically updates based on the current state from HomeCubit.",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        },
        {
          "name": "_buildGameLibrarySection",
          "description": "Creates a section with a button to navigate to the game library. Currently just a placeholder with UI structure.",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        },
        {
          "name": "_buildLeaderboardSection",
          "description": "Provides a placeholder section for future leaderboard functionality. Currently displays 'Coming Soon!' message.",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        },
        {
          "name": "_buildStatItem",
          "description": "Helper method to create consistent stat display items with a value and label pair. Used within the stats section to show individual metrics.",
          "parameters": [
            "String label",
            "String value"
          ],
          "return_type": "Widget"
        }
      ],
      "dependencies": [
        "flutter/material.dart",
        "flutter_bloc/flutter_bloc.dart",
        "my_app/features/home/home_cubit.dart",
        "my_app/features/home/home_state.dart",
        "my_app/shared/app_colors.dart",
        "my_app/shared/text_style.dart"
      ]
    },
    {
      "name": "lib/features/startup/startup_view.dart",
      "description": "This file contains the StartupView widget which serves as the initial splash screen of the application. It displays a branded loading screen while performing initial app initialization tasks and then navigates to the main HomeView once initialization is complete.",
      "class_diagram": "@startuml\nclass StartupView {\n  +State<StartupView> createState()\n}\n\nclass _StartupViewState {\n  -Future<void> _initializeApp()\n  +Widget build(BuildContext context)\n}\n\nStartupView --> _StartupViewState\n_StartupViewState --> HomeView : navigates to\n_StartupViewState --> kcPrimaryGradient : uses\n_StartupViewState --> kcPrimaryColor : uses\n@enduml",
      "methods": [
        {
          "name": "_initializeApp",
          "description": "Performs application initialization tasks and navigates to the home screen after completion",
          "parameters": [],
          "return_type": "Future<void>"
        },
        {
          "name": "build",
          "description": "Builds the splash screen UI with branding elements and loading indicator",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        }
      ],
      "dependencies": [
        "package:flutter/material.dart",
        "package:my_app/features/home/home_view.dart",
        "package:my_app/shared/app_colors.dart"
      ]
    },
    {
      "name": "lib/main/bootstrap.dart",
      "description": "Provides a centralized bootstrapping mechanism for initializing the Flutter application with support for different flavors, configuration setup, and error tracking",
      "class_diagram": "@startuml\nclass Bootstrap {\n  +{static} bootstrap(builder: Function, flavor: Flavor)\n  -setupInitialConfiguration()\n  -initializeErrorTracking()\n}\n@enduml",
      "methods": [
        {
          "name": "bootstrap",
          "description": "Primary initialization method for the application, responsible for setting up app configurations, dependency injection, and error tracking",
          "parameters": [
            "builder",
            "flavor"
          ],
          "return_type": "Future<void>"
        }
      ],
      "dependencies": [
        "dart:async",
        "flutter/material.dart",
        "flutter/services.dart",
        "my_app/models/enums/flavor.dart",
        "my_app/utils/flavors.dart"
      ]
    },
    {
      "name": "lib/main/main_production.dart",
      "description": "This file is responsible for bootstrapping the production version of the application. It sets up the initial state and configuration for the app, ensuring it runs in the production environment.",
      "class_diagram": "",
      "methods": [
        {
          "name": "main",
          "description": "The entry point of the application. It calls the `bootstrap` function to initialize the app and render the `App` widget.",
          "parameters": null,
          "return_type": "void"
        }
      ],
      "dependencies": [
        "package:my_app/main/bootstrap.dart",
        "package:my_app/models/enums/flavor.dart",
        "package:my_app/app/app.dart"
      ]
    },
    {
      "name": "lib/main/main_development.dart",
      "description": "This Dart file is responsible for bootstrapping the development version of the Flutter application. It sets up the application's entry point and configures the application flavor to be 'development'.",
      "class_diagram": "",
      "methods": [
        {
          "name": "main",
          "description": "The main entry point of the application that initializes the development build of the app.",
          "parameters": null,
          "return_type": "void"
        }
      ],
      "dependencies": [
        "package:my_app/main/bootstrap.dart",
        "package:my_app/models/enums/flavor.dart",
        "package:my_app/app/app.dart"
      ]
    },
    {
      "name": "lib/models/enums/flavor.dart",
      "description": "This file defines an enum called `Flavor` with two values: `production` and `development`. It represents the different flavors or environments that the application can run in.",
      "class_diagram": "@startuml\nenum Flavor {\n  production\n  development\n}\n@enduml",
      "methods": [],
      "dependencies": []
    },
    {
      "name": "lib/utils/flavors.dart",
      "description": "Manages application flavor configuration, allowing runtime identification of deployment environment (development vs production) to enable environment-specific behaviors and configurations",
      "class_diagram": "@startuml\nclass Flavors {\n  +{static} flavor: Flavor\n  +{static} isDev: bool\n  +{static} isProd: bool\n}\n@enduml",
      "methods": [
        {
          "name": "Flavors",
          "description": "Private singleton constructor to ensure single flavor configuration instance",
          "parameters": null,
          "return_type": null
        },
        {
          "name": "isDev",
          "description": "Checks if current application flavor is development environment",
          "parameters": null,
          "return_type": "bool"
        },
        {
          "name": "isProd",
          "description": "Checks if current application flavor is production environment",
          "parameters": null,
          "return_type": "bool"
        }
      ],
      "dependencies": [
        "package:my_app/models/enums/flavor.dart"
      ]
    },
    {
      "name": "lib/shared/app_colors.dart",
      "description": "A comprehensive color management file that defines a modern, sophisticated color palette for the entire application, providing consistent styling and theming across different UI components and supporting both light and dark modes.",
      "class_diagram": "@startuml\nclass AppColors {\n  + {static} kcPrimaryColor\n  + {static} kcSecondaryColor\n  + {static} kcPrimaryGradient\n}\n@enduml",
      "methods": [
        {
          "name": "N/A",
          "description": "Constants file with predefined color and gradient definitions",
          "parameters": null,
          "return_type": null
        }
      ],
      "dependencies": [
        "flutter/material.dart"
      ]
    },
    {
      "name": "lib/shared/button.dart",
      "description": "A reusable custom button component that provides different visual variants (primary, secondary, outline) with consistent styling across the application.",
      "class_diagram": "@startuml\nclass CustomButton {\n  +text: String\n  +onPressed: VoidCallback?\n  +variant: ButtonVariant\n  +icon: IconData?\n  +build(): Widget\n}\nenum ButtonVariant {\n  primary\n  secondary\n  outline\n}\n@enduml",
      "methods": [
        {
          "name": "build",
          "description": "Renders the custom button with specified variant styling and optional icon",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        }
      ],
      "dependencies": [
        "flutter/material.dart",
        "my_app/shared/app_colors.dart"
      ]
    },
    {
      "name": "lib/shared/card.dart",
      "description": "A customizable card component library providing flexible card implementations for Flutter applications with various styling options.",
      "class_diagram": "@startuml\nclass CustomCard {\n  +child: Widget\n  +onTap: VoidCallback?\n  +build(): Widget\n}\n@enduml",
      "methods": [
        {
          "name": "build",
          "description": "Renders a customizable card widget with optional tap functionality",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        }
      ],
      "dependencies": [
        "flutter/material.dart"
      ]
    },
    {
      "name": "lib/shared/tab_bar.dart",
      "description": "A customizable tab bar component for navigation with modern UI design and interactive features.",
      "class_diagram": "@startuml\nclass CustomTabBar {\n  +tabs: List<String>\n  +selectedIndex: int\n  +onTabSelected: ValueChanged<int>\n  +build(): Widget\n}\n@enduml",
      "methods": [
        {
          "name": "build",
          "description": "Renders the tab bar with animated indicators and custom styling",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        }
      ],
      "dependencies": [
        "flutter/material.dart"
      ]
    },
    {
      "name": "lib/shared/text_style.dart",
      "description": "This file provides a centralized collection of predefined text styles for consistent typography across the application. It defines standardized styles for headings, body text, buttons, and special text elements like links and status messages. The file ensures visual consistency and maintainability by centralizing all text styling definitions in one place.",
      "class_diagram": "@startuml\nhide empty members\nclass TextStyleManager {\n  +TextStyle heading1Style(BuildContext context)\n  +TextStyle heading2Style(BuildContext context)\n  +TextStyle heading3Style(BuildContext context)\n  +TextStyle bodyStyle(BuildContext context)\n  +TextStyle bodySmallStyle(BuildContext context)\n  +TextStyle buttonStyle(BuildContext context)\n  +TextStyle linkStyle(BuildContext context)\n  +TextStyle errorStyle(BuildContext context)\n  +TextStyle successStyle(BuildContext context)\n  +TextStyle subtitleStyle(BuildContext context)\n}\nTextStyleManager --> \"uses\" AppColors : kcPrimaryTextColor, kcSecondaryTextColor, kcPrimaryColor, kcErrorColor, kcSuccessColor\nTextStyleManager --> Flutter : TextStyle, BuildContext\n@enduml",
      "methods": [
        {
          "name": "heading1Style",
          "description": "Returns the primary heading style with large font size and bold weight for main titles",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "heading2Style",
          "description": "Returns the secondary heading style for section titles and important headings",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "heading3Style",
          "description": "Returns the tertiary heading style for sub-section titles",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "bodyStyle",
          "description": "Returns the standard body text style for regular content",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "bodySmallStyle",
          "description": "Returns the small body text style for secondary content and descriptions",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "buttonStyle",
          "description": "Returns the text style for button labels with bold white text",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "linkStyle",
          "description": "Returns the text style for clickable links with underlined primary color text",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "errorStyle",
          "description": "Returns the text style for error messages with red colored text",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "successStyle",
          "description": "Returns the text style for success messages with green colored text",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        },
        {
          "name": "subtitleStyle",
          "description": "Legacy alias for bodySmallStyle, maintained for backward compatibility",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "TextStyle"
        }
      ],
      "dependencies": [
        "package:flutter/material.dart",
        "package:my_app/shared/app_colors.dart"
      ]
    },
    {
      "name": "lib/shared/ui_helpers.dart",
      "description": "A utility file providing responsive UI sizing and spacing helpers for consistent layout across different screen sizes in a Flutter application.",
      "class_diagram": "@startuml\nclass UIHelpers {\n  + {static} screenWidth()\n  + {static} screenHeight()\n  + {static} spacing\n}\n@enduml",
      "methods": [
        {
          "name": "screenWidth",
          "description": "Retrieves the total screen width for the current device context",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "double"
        },
        {
          "name": "screenHeight",
          "description": "Retrieves the total screen height for the current device context",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "double"
        }
      ],
      "dependencies": [
        "flutter/material.dart"
      ]
    },
    {
      "name": "lib/services/firebase_auth_service.dart",
      "description": "A service class that provides Firebase Authentication functionality for user management, including sign-in, sign-up, password reset, profile updates, and account deletion. This class acts as a wrapper around Firebase Auth SDK to provide a clean, application-specific interface for authentication operations.",
      "class_diagram": "@startuml\nclass FirebaseAuthService {\n  -FirebaseAuth _auth\n  \n  +User? currentUser\n  +Stream<User?> authStateChanges\n  \n  +Future<UserCredential> signInWithEmailAndPassword(email, password)\n  +Future<UserCredential> createAccountWithEmailAndPassword(email, password)\n  +Future<void> signOut()\n  +Future<void> resetPassword(email)\n  +Future<void> updateProfile(displayName, photoURL)\n  +Future<void> updatePassword(newPassword)\n  +Future<void> deleteAccount()\n  +Future<void> sendEmailVerification()\n  +Future<UserCredential> reauthenticateUser(password)\n}\n\nFirebaseAuthService --> FirebaseAuth : uses\nFirebaseAuthService --> User : manages\nFirebaseAuthService --> UserCredential : returns\n@enduml",
      "methods": [
        {
          "name": "signInWithEmailAndPassword",
          "description": "Authenticates a user with their email and password credentials",
          "parameters": [
            "email",
            "password"
          ],
          "return_type": "Future<UserCredential>"
        },
        {
          "name": "createAccountWithEmailAndPassword",
          "description": "Creates a new user account with email and password",
          "parameters": [
            "email",
            "password"
          ],
          "return_type": "Future<UserCredential>"
        },
        {
          "name": "signOut",
          "description": "Signs out the currently authenticated user",
          "parameters": [],
          "return_type": "Future<void>"
        },
        {
          "name": "resetPassword",
          "description": "Sends a password reset email to the specified email address",
          "parameters": [
            "email"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "updateProfile",
          "description": "Updates the current user's profile information including display name and photo URL",
          "parameters": [
            "displayName",
            "photoURL"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "updatePassword",
          "description": "Updates the current user's password",
          "parameters": [
            "newPassword"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "deleteAccount",
          "description": "Deletes the current user's account permanently",
          "parameters": [],
          "return_type": "Future<void>"
        },
        {
          "name": "sendEmailVerification",
          "description": "Sends an email verification link to the current user's email address",
          "parameters": [],
          "return_type": "Future<void>"
        },
        {
          "name": "reauthenticateUser",
          "description": "Re-authenticates the current user with their password for sensitive operations",
          "parameters": [
            "password"
          ],
          "return_type": "Future<UserCredential>"
        },
        {
          "name": "authStateChanges",
          "description": "Provides a stream that emits user authentication state changes",
          "parameters": [],
          "return_type": "Stream<User?>"
        }
      ],
      "dependencies": [
        "package:firebase_auth/firebase_auth.dart"
      ]
    },
    {
      "name": "lib/services/firestore_service.dart",
      "description": "A service class that provides centralized access to Firestore database operations for users, games, and payments. It abstracts the complexity of direct Firestore interactions and provides a clean API for data management throughout the application.",
      "class_diagram": "@startuml\nclass FirestoreService {\n  - FirebaseFirestore _firestore\n  - String _usersCollection\n  - String _gamesCollection\n  - String _paymentsCollection\n  + Future<void> init()\n  + Future<void> createUser(String uid, Map<String, dynamic> userData)\n  + Future<Map<String, dynamic>?> getUser(String uid)\n  + Future<void> updateUser(String uid, Map<String, dynamic> userData)\n  + Future<void> deleteUser(String uid)\n  + Future<List<Map<String, dynamic>>> getGames()\n  + Future<void> addGame(Map<String, dynamic> gameData)\n  + Future<void> updateGame(String gameId, Map<String, dynamic> gameData)\n  + Future<void> deleteGame(String gameId)\n  + Future<List<Map<String, dynamic>>> getPaymentHistory(String userId)\n  + Future<void> addPayment(Map<String, dynamic> paymentData)\n}\n\nFirestoreService --> \"FirebaseFirestore\" : uses\n@enduml",
      "methods": [
        {
          "name": "init",
          "description": "Initializes the Firestore service and performs any required setup operations",
          "parameters": [],
          "return_type": "Future<void>"
        },
        {
          "name": "createUser",
          "description": "Creates a new user document in the users collection with the provided user ID and data",
          "parameters": [
            "String uid",
            "Map<String, dynamic> userData"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "getUser",
          "description": "Retrieves user data from the users collection by user ID",
          "parameters": [
            "String uid"
          ],
          "return_type": "Future<Map<String, dynamic>?>"
        },
        {
          "name": "updateUser",
          "description": "Updates an existing user document with new data",
          "parameters": [
            "String uid",
            "Map<String, dynamic> userData"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "deleteUser",
          "description": "Removes a user document from the users collection",
          "parameters": [
            "String uid"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "getGames",
          "description": "Retrieves all game documents from the games collection",
          "parameters": [],
          "return_type": "Future<List<Map<String, dynamic>>>"
        },
        {
          "name": "addGame",
          "description": "Adds a new game document to the games collection",
          "parameters": [
            "Map<String, dynamic> gameData"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "updateGame",
          "description": "Updates an existing game document with new data",
          "parameters": [
            "String gameId",
            "Map<String, dynamic> gameData"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "deleteGame",
          "description": "Removes a game document from the games collection",
          "parameters": [
            "String gameId"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "getPaymentHistory",
          "description": "Retrieves payment history for a specific user, ordered by timestamp",
          "parameters": [
            "String userId"
          ],
          "return_type": "Future<List<Map<String, dynamic>>>"
        },
        {
          "name": "addPayment",
          "description": "Records a new payment transaction in the payments collection",
          "parameters": [
            "Map<String, dynamic> paymentData"
          ],
          "return_type": "Future<void>"
        }
      ],
      "dependencies": [
        "package:cloud_firestore/cloud_firestore.dart"
      ]
    },
    {
      "name": "lib/features/support/support_view.dart",
      "description": "This file provides the user interface for the support chat feature, enabling users to communicate with support agents through a messaging interface. It displays conversation history and allows users to send new messages.",
      "class_diagram": "@startuml\nclass SupportView {\n  - TextEditingController _controller\n  + Widget build(BuildContext context)\n  - Widget _buildMessageBubble(Message message, BuildContext context)\n  - Widget _buildInputArea(BuildContext context)\n}\n\nclass Message {\n  + String text\n  + MessageSender sender\n  + DateTime timestamp\n}\n\nenum MessageSender {\n  user\n  bot\n}\n\nSupportView --> Message : displays\nSupportView --> SupportCubit : uses\nSupportView --> SupportState : reacts to\n@enduml",
      "methods": [
        {
          "name": "build",
          "description": "Constructs the support view UI with message history and input area",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        },
        {
          "name": "_buildMessageBubble",
          "description": "Creates a styled message bubble for displaying individual chat messages",
          "parameters": [
            "Message message",
            "BuildContext context"
          ],
          "return_type": "Widget"
        },
        {
          "name": "_buildInputArea",
          "description": "Creates the message input area with text field and send button",
          "parameters": [
            "BuildContext context"
          ],
          "return_type": "Widget"
        }
      ],
      "dependencies": [
        "package:flutter/material.dart",
        "package:flutter_bloc/flutter_bloc.dart",
        "package:my_app/features/support/support_cubit.dart",
        "package:my_app/features/support/support_state.dart",
        "package:my_app/shared/app_colors.dart",
        "package:my_app/shared/text_style.dart"
      ]
    },
    {
      "name": "lib/features/support/support_state.dart",
      "description": "This file defines the state management classes for the support feature using the BLoC pattern. It provides a clear enumeration of all possible states that the support feature can be in, enabling predictable UI updates and handling of asynchronous operations like loading support data, displaying errors, and showing loaded content.",
      "class_diagram": "@startuml\nclass SupportState {\n  +List<Object> props\n}\n\nclass SupportInitial\n\nclass SupportLoading\n\nclass SupportLoaded\n\nclass SupportError {\n  +String message\n  +List<Object> props\n}\n\nSupportState <|-- SupportInitial\nSupportState <|-- SupportLoading\nSupportState <|-- SupportLoaded\nSupportState <|-- SupportError\n@enduml",
      "methods": [
        {
          "name": "get props",
          "description": "Provides the list of properties that define the state's identity for equality comparison",
          "parameters": null,
          "return_type": "List<Object>"
        }
      ],
      "dependencies": [
        "package:equatable/equatable.dart"
      ]
    },
    {
      "name": "lib/features/games/games_cubit.dart",
      "description": "This file manages the state and business logic for the games feature, providing a centralized way to load, select, and manage available games in the application. It serves as the data layer for the games UI, handling game listings and user selections.",
      "class_diagram": "@startuml\nclass GamesCubit {\n  +GamesCubit()\n  -_loadGames()\n  +selectGame(Game game)\n  +clearSelection()\n}\n\nclass GamesState {\n  +GamesInitial\n  +GamesLoading\n  +GamesLoaded\n}\n\nclass Game {\n  +String id\n  +String title\n  +String description\n  +String category\n  +String imageUrl\n}\n\nGamesCubit --> GamesState\nGamesCubit --> Game\nGamesCubit ..> flutter_bloc\nGamesCubit ..> \"games_state.dart\"\n@enduml",
      "methods": [
        {
          "name": "GamesCubit",
          "description": "Constructor that initializes the cubit and automatically loads games data",
          "parameters": null,
          "return_type": null
        },
        {
          "name": "_loadGames",
          "description": "Private method that loads the list of available games and emits the loaded state",
          "parameters": null,
          "return_type": null
        },
        {
          "name": "selectGame",
          "description": "Selects a specific game and updates the state with the selected game",
          "parameters": [
            "Game game"
          ],
          "return_type": null
        },
        {
          "name": "clearSelection",
          "description": "Clears the currently selected game and resets the selection state",
          "parameters": null,
          "return_type": null
        }
      ],
      "dependencies": [
        "flutter_bloc",
        "package:my_app/features/games/games_state.dart"
      ]
    },
    {
      "name": "lib/services/openai_service.dart",
      "description": "A service class that provides integration with OpenAI's GPT models to generate AI-powered responses for customer support queries in a gaming platform context.",
      "class_diagram": "@startuml\nclass OpenAiService {\n  -String _apiKey\n  -String _baseUrl\n  +Future<String> generateResponse(String prompt)\n}\nnote right of OpenAiService\n  Integrates with OpenAI API\n  to generate customer support responses\nend note\n@enduml",
      "methods": [
        {
          "name": "generateResponse",
          "description": "Generates an AI-powered response for a given user prompt by calling the OpenAI Chat Completions API with a predefined system context for gaming platform customer support",
          "parameters": [
            "prompt"
          ],
          "return_type": "Future<String>"
        }
      ],
      "dependencies": [
        "dart:convert",
        "package:http/http.dart"
      ]
    },
    {
      "name": "lib/features/games/games_state.dart",
      "description": "This file defines the state management classes for the games feature using the BLoC pattern. It represents different states that the games UI can be in (loading, loaded, error) and includes the Game data model. This enables predictable state management for game listings and selections.",
      "class_diagram": "@startuml\nclass GamesState {\n  +List<Object> props\n}\n\nclass GamesInitial {\n}\n\nclass GamesLoading {\n}\n\nclass GamesLoaded {\n  +List<Game> games\n  +Game? selectedGame\n  +copyWith(List<Game>?, Game?) : GamesLoaded\n}\n\nclass GamesError {\n  +String message\n}\n\nclass Game {\n  +String id\n  +String title\n  +String description\n  +String category\n  +String imageUrl\n}\n\nGamesState <|-- GamesInitial\nGamesState <|-- GamesLoading\nGamesState <|-- GamesLoaded\nGamesState <|-- GamesError\n@enduml",
      "methods": [
        {
          "name": "copyWith",
          "description": "Creates a new GamesLoaded instance with updated values, enabling immutable state updates",
          "parameters": [
            "List<Game>? games",
            "Game? selectedGame"
          ],
          "return_type": "GamesLoaded"
        }
      ],
      "dependencies": [
        "package:equatable/equatable.dart"
      ]
    },
    {
      "name": "lib/services/telegram_service.dart",
      "description": "A service class that provides integration with Telegram Bot API for sending messages and retrieving updates. This enables the application to communicate with users through Telegram bots and process incoming messages.",
      "class_diagram": "@startuml\nclass TelegramService {\n  -String _botToken\n  -String _chatId\n  -String _baseUrl\n  +Future<void> sendMessage(String text)\n  +Future<List<dynamic>> getMessages()\n}\n\nnote right of TelegramService\n  Depends on http package for API calls\n  Uses TELEGRAM_BOT_TOKEN and TELEGRAM_CHAT_ID environment variables\nend note\n\nTelegramService --> \"http\" : uses\n@enduml",
      "methods": [
        {
          "name": "sendMessage",
          "description": "Sends a text message to a specified Telegram chat using the configured bot token and chat ID",
          "parameters": [
            "text"
          ],
          "return_type": "Future<void>"
        },
        {
          "name": "getMessages",
          "description": "Retrieves message updates from the Telegram bot, allowing the application to process incoming messages",
          "parameters": [],
          "return_type": "Future<List<dynamic>>"
        }
      ],
      "dependencies": [
        "package:http/http.dart",
        "dart:convert"
      ]
    },
    {
      "name": "lib/features/support/support_cubit.dart",
      "description": "This file contains the SupportCubit class which manages the state and business logic for the customer support chat feature. It handles user message submission, integrates with external services (Telegram and OpenAI), and maintains the conversation history.",
      "class_diagram": "@startuml\nclass SupportCubit {\n  -List<Message> messages\n  -TelegramService _telegramService\n  -OpenAiService _openAiService\n  +SupportCubit()\n  +void sendMessage(String text)\n}\n\nSupportCubit --> \"1\" TelegramService\nSupportCubit --> \"1\" OpenAiService\nSupportCubit --> \"1\" SupportState\nnote right of SupportCubit::sendMessage\n  Core business method that:\n  1. Adds user message to chat history\n  2. Sends message to Telegram support\n  3. Gets AI-generated response\n  4. Adds bot response to chat\n  5. Manages loading/error states\nend note\n@enduml",
      "methods": [
        {
          "name": "sendMessage",
          "description": "Handles the complete flow of sending a user message, including forwarding to Telegram support, getting an AI-generated response, updating the chat history, and managing the UI state through different stages (loading, success, error).",
          "parameters": [
            "String text"
          ],
          "return_type": "void"
        }
      ],
      "dependencies": [
        "package:flutter_bloc/flutter_bloc.dart",
        "package:my_app/features/support/support_state.dart",
        "package:my_app/services/openai_service.dart",
        "package:my_app/services/telegram_service.dart"
      ]
    }
  ],
  "dependencies": [
    {
      "name": "flutter",
      "version": "sdk: flutter",
      "purpose": "Flutter framework"
    },
    {
      "name": "flutter_bloc",
      "version": "^8.1.3",
      "purpose": "State management using Bloc/Cubit pattern"
    },
    {
      "name": "equatable",
      "version": "^2.0.5",
      "purpose": "Efficient state comparison for Bloc states"
    }
  ],
  "sequence_diagram": "@startuml\nactor User\nparticipant App\nparticipant StartupView\nparticipant HomeView\nparticipant SupportView\nparticipant GamesCubit\n\nUser -> App: Launch App\nApp -> StartupView: Initialize\nStartupView -> HomeView: Navigate\nUser -> HomeView: View Games\nHomeView -> GamesCubit: Load Games\nGamesCubit -> HomeView: Display Game List\nUser -> SupportView: Open Support Chat\nUser -> SupportView: Send Message\nSupportView -> OpenAIService: Generate Response\nOpenAIService -> SupportView: Return AI Response\n@enduml",
  "state_management_flow": "State management is implemented using the Flutter Bloc/Cubit pattern across multiple features. Each feature (Home, Support, Games) has a dedicated Cubit that manages its state. States are immutable classes extending Equatable, providing efficient comparisons. State transitions occur through emit() calls, with BlocBuilder and BlocListener widgets enabling reactive UI updates. The approach ensures clean separation of concerns and predictable state management.",
  "navigation_flow": "Navigation is managed through standard Flutter routing with predefined routes in the App widget. The startup view automatically transitions to the home view, while additional routes like '/support' and '/games' are configured. The current implementation uses Navigator for screen transitions, with a structured approach that allows easy extension and maintenance of navigation paths."
}